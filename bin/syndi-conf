#!/usr/bin/env ruby
# Copyright (c) 2013, Autumn Perrault, et al. All rights reserved.
# This free software is distributed under the FreeBSD license (see LICENSE).

require 'slop'

# Check whether we're installed as a gem or a standalone
unless File.expand_path(__FILE__) =~ /^#{Regexp.escape File.join(Dir.home, '.gem')}/
  $:.unshift File.expand_path(File.join(File.dirname(__FILE__), '..', 'lib')) # Add the Syndi libraries to LOAD_PATH
end

require 'syndi/configure'

# Parse options.
opts = Slop.parse(:banner => "Usage: #$0 [options/command]") do
  
  on :h, :help, 'Display this help message.' do
    puts self
    exit 0
  end

  on :v, :version, 'Display version.' do
    puts <<-EOV
Syndi Configure v#{Syndi::Configure::VERSION}

http://syndiproj.org
    EOV
    exit 0
  end

  # configuration generator
  command :gen do
    run do |_, _|
      Syndi::Configure::Generator.new.generate
    end
  end

  # configuration editor
  command :edit do
    run do |_, args|
      Syndi::Configure::CLI.start(args)
    end
  end
      
end

# vim: set ts=4 sts=2 sw=2 et:
